### 1) Registrierung des Testbenutzers
POST http://localhost:8080/api/v1/auth/register
Content-Type: application/json

{
  "username": "Test.Request.AgeCategeoryController",
  "firstName": "Age",
  "lastName": "Tester",
  "birthDate": "1990-01-01",
  "password": "testAgeController123"
}

> {%
    // Wenn Registrierung erfolgreich (201) steht der Benutzer in DB. Falls 400 (already exists) weiter versuchen zu login.
    client.log("Registrierungs-Antwort: " + response.status);
%}

### 2) Login und JWT extrahieren
POST http://localhost:8080/api/v1/auth/login
Content-Type: application/json

{
  "username": "Test.Request.AgeCategeoryController",
  "password": "testAgeController123"
}

> {%
    if (response.status === 200 && response.body && response.body.token) {
        client.global.set("age_jwt_token", response.body.token);
        client.log("JWT Token extrahiert: " + response.body.token.substring(0,20) + "...");
    } else {
        client.log("Login fehlgeschlagen: " + (response.body && response.body.message ? response.body.message : response.status));
    }
%}

### 3) Alle Alterskategorien abrufen (öffentlicher Test nach Login)
GET http://localhost:8080/api/v1/age-categories
Authorization: Bearer {{age_jwt_token}}

### 4) Neue Alterskategorie erstellen
POST http://localhost:8080/api/v1/age-categories
Content-Type: application/json
Authorization: Bearer {{age_jwt_token}}

{
  "name": "TestCategory_0_18_years",
  "ageMinDays": 0,
  "ageMaxDays": 6570
}

> {%
    if (response.status === 201 && response.body && response.body.id) {
        client.global.set("age_category_id", response.body.id);
        client.log("Alterskategorie erstellt: " + response.body.id);
    } else {
        client.log("Erstellen fehlgeschlagen: " + response.status);
    }
%}

### 5) Alterskategorie nach ID abrufen
GET http://localhost:8080/api/v1/age-categories/{{age_category_id}}
Authorization: Bearer {{age_jwt_token}}

### 6) Alterskategorie aktualisieren (PATCH)
PATCH http://localhost:8080/api/v1/age-categories/{{age_category_id}}
Content-Type: application/json
Authorization: Bearer {{age_jwt_token}}

{
  "name": "TestCategory_TestCategory_0_18_updated",
  "ageMinDays": 0,
  "ageMaxDays": 3650
}

### 7) Alterskategorie löschen
DELETE http://localhost:8080/api/v1/age-categories/{{age_category_id}}
Authorization: Bearer {{age_jwt_token}}

> {%
    client.log("Delete AgeCategory Response: " + response.status);
%}

### 8) Testbenutzer löschen (Cleanup)
DELETE http://localhost:8080/api/v1/auth
Authorization: Bearer {{age_jwt_token}}

